rule download_gencode:
    output:
        "{prefix}/data/annotation/annotation.gff3"
    run:
        local_annotation = config.get("local_annotation_gff3", "")
        if local_annotation and os.path.exists(local_annotation):
            shell("zcat {local_annotation} > {output[0]}")
        else:
            shell("curl {config[remote_annotation_gff3]} | gunzip > {output[0]}")
