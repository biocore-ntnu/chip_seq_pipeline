
rule download_gencode:
    output:
        "{prefix}/data/annotation/annotation.gff3"
    run:
        annotation_gff3 = config["annotation_gff3"]
        local_annotation = re.search("^(ftp|www|http)", annotation_gff3)

        if local_annotation:
            shell("zcat {annotation_gff3} > {output[0]}")
        else:
            shell("curl {annotation_gff3} | gunzip > {output[0]}")
